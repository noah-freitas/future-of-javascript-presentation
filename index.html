<!DOCTYPE html>
<html lang=en>
	<head>
		<meta charset=UTF-8>
		<title>ES5 &amp; ES.Next: The Present and (Near) Future of JavaScript</title>
		<link rel=stylesheet href=css/reveal.css>
		<link rel=stylesheet href=css/theme/default.css>
		<link rel=stylesheet href=lib/css/zenburn.css>
		<style>
			.browserTable img {
				width: 150px;
			}
			.browserTable img.unsupported {
				opacity: .1;
				border-color: black;
			}
			.browserTable img.partialsupport {
				opacity: .5;
				border-color: orange;
			}
		</style>
	</head>
	<body>
		<div class=reveal>
			<div class=slides>
				<section>
					<hgroup>
						<h1>ES5 &amp; ES.Next</h1>
						<h2>The Present and (Near) Future of JavaScript</h2>
					</hgroup>
				</section>
				<section>
					<h1>Goals</h1>
					<ul>
						<li>Survey recent and upcoming changes to JavaScript</li>
						<li>In the context of solving simple programming problems</li>
						<li>With short, readable code examples</li>
						<li>And a look towards current browser implementations</li>
					</ul>
				</section>
				<section>
					<h1>Topics 1</h1>
					<ul>
						<li>
    						Data Structures
							<ul>
								<li>Array Functions</li>
								<li>Generators, Iterators, &amp; Comprehensions</li>
								<li>Maps &amp; Sets</li>
							</ul>
						</li>
						<li>
							Scope &amp; Value
							<ul>
								<li>Let</li>
								<li>Parameters: default values, rest &amp; spread</li>
								<li>Modules</li>
							</ul>
						</li>
					</ul>
				</section>
				<section>
					<h1>Topics 2</h1>
					<ul>
                        <li>
    						Syntax Changes
							<ul>
								<li>Destructuring</li>
								<li>Arrow Functions</li>
							</ul>
						</li>
						<li>
							Programming Objects
							<ul>
								<li>Object.create</li>
								<li>Object. is, isnt, &amp; observe</li>
								<li>Getters/Setters</li>
								<li>Proxies</li>
							</ul>
						</li>
					</ul>
				</section>
				<section>
					<h1>Topics 3</h1>
					<ul>
						<li>
							Other
							<ul>
								<li>Yield</li>
								<li>Built-In Objects: Number, Regex, String, &amp; Math</li>
								<li>Pragmas (`use`)</li>
								<li>UTF-16</li>
							</ul>
						</li>
					</ul>
				</section>
				<section>
					<h1>Data Structures</h1>
				</section>
				<section>
					<hgroup>
						<h1>Array Functions</h1>
						<h2>Moving Beyond <code>for</code></h2>
					</hgroup>
					<ul>
						<li>forEach</li>
						<li>map</li>
						<li>reduce</li>
						<li>filter</li>
						<li>Others</li>
					</ul>
				</section>
				<section>
					<h1>forEach</h1>
					<section>
						<p>Executes a function for each item in an array.</p>
						<p>The function is passed three parameters: the current value, the index,
							and the complete array.</p>
					</section>
					<section>
						<pre>
							<code>
var arr = [1, 2, 3];

var print = function (item) {
  console.log(item);
};

arr.forEach(print);

// Logs out:
//   1
//   2
//   3
							</code>
						</pre>
					</section>
					<section>
						<table class=browserTable>
							<tr>
								<td><img src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img src=images/ie.png></td>
								<td><img src=images/opera.png></td>
								<td><img src=images/safari.png></td>
							</tr>
						</table>
					</section>
				</section>
				<section>
					<h1>map</h1>
					<section>
						<p>Creates a new array by calling a function on each element of an array.</p>
						<p>The function is passed three parameters: the current value, the index,
							and the complete array.</p>
					</section>
					<section>
						<pre>
							<code>
var arr = [1, 2, 3];

var times2 = function (item) {
  return item * 2;
};

var times2Array = arr.map(times2);

// times2Array now is:
//   [2, 4, 6]
							</code>
						</pre>
					</section>
					<section>
						<table class=browserTable>
							<tr>
								<td><img src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img src=images/ie.png></td>
								<td><img src=images/opera.png></td>
								<td><img src=images/safari.png></td>
							</tr>
						</table>
					</section>
				</section>
				<section>
					<h1>reduce</h1>
					<section>
						<p>Reduces an array to a single value by calling a function for each element
							in the array.</p>
						<p>The function is passed four parameters: the previous value, the current value,
							the index, and the complete array.</p>
					</section>
					<section>
						<pre>
							<code>
var arr = [1, 2, 3];

var sum = function (item1, item2) {
  return item1 + item2;
};

var total = arr.reduce(sum);

// total is 6.
							</code>
						</pre>
					</section>
					<section>
						<table class=browserTable>
							<tr>
								<td><img src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img src=images/ie.png></td>
								<td><img src=images/opera.png></td>
								<td><img src=images/safari.png></td>
							</tr>
						</table>
					</section>
				</section>
				<section>
					<h1>filter</h1>
					<section>
						<p>Creates a new array with only those elements for which your function
							returns true.</p>
						<p>The function is passed three parameters: the current value,
							the index, and the complete array.</p>
					</section>
					<section>
						<pre>
							<code>
var arr = [1, 2, 3, 4, 5, 6];

var isEven = function (item) {
  return item % 2 === 0;
};

var evens = arr.filter(isEven);

// evens is:
//   [2, 4, 6]
							</code>
						</pre>
					</section>
					<section>
						<table class=browserTable>
							<tr>
								<td><img src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img src=images/ie.png></td>
								<td><img src=images/opera.png></td>
								<td><img src=images/safari.png></td>
							</tr>
						</table>
					</section>
				</section>
				<section>
					<h1>Others</h1>
					<section>
						<ul>
							<li>indexOf</li>
							<li>every</li>
							<li>some</li>
						</ul>
					</section>
					<section>
						<h2>indexOf</h2>
						<p>Searches an array for a value.  Returns the first index at which it appears
							or <code>-1</code> if the value is not in the array.</p>
						<p>Also: lastIndexOf</p>
						<table class=browserTable>
							<tr>
								<td><img src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img src=images/ie.png></td>
								<td><img src=images/opera.png></td>
								<td><img src=images/safari.png></td>
							</tr>
						</table>
					</section>
					<section>
						<h2>every</h2>
						<p>Returns true if your function returns true for each element in the array.</p>
						<table class=browserTable>
							<tr>
								<td><img src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img src=images/ie.png></td>
								<td><img src=images/opera.png></td>
								<td><img src=images/safari.png></td>
							</tr>
						</table>
					</section>
					<section>
						<h2>some</h2>
						<p>Returns true if your function returns true for any element in the array.</p>
						<table class=browserTable>
							<tr>
								<td><img src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img src=images/ie.png></td>
								<td><img src=images/opera.png></td>
								<td><img src=images/safari.png></td>
							</tr>
						</table>
					</section>
				</section>
				<section>
					<h1>Generators, Iterators, &amp; Comprehensions</h1>
				</section>
                <section>
                    <h1>Generators</h1>
                    <ul>
                        <li>Generator Functions</li>
                        <li>Generator Expressions</li>
                    </ul>
                </section>
                <section>
                    <h1>Generator Functions</h1>
                    <section>
                        <p>Functions that return an infinite sequence, with
                            lazy computation.
                        </p>
                    </section>
                    <section>
                        <pre>
                            <code>
function* naturalNumbers() {
  num = 0;
  while (true) {
    num += 1;
    yield num;
  }
}
naturalNumbers(); // 1
naturalNumbers(); // 2
                            </code>
                        </pre>
                    </section>
                    <section>
    					<table class=browserTable>
							<tr>
								<td><img class=unsupported src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img class=unsupported src=images/ie.png></td>
								<td><img class=unsupported src=images/opera.png></td>
								<td><img class=unsupported src=images/safari.png></td>
							</tr>
						</table>
					</section>
                </section>
                <section>
                    <h1>Generator Expressions</h1>
                    <section>
                        <p>More efficient function arguments.</p>
                    </section>
                    <section>
                        <pre>
                            <code>
// Harmony example
(xhrGet(url) for (url of getURLs()))
                            </code>
                        </pre>
                    </section>
                    <section>
        				<table class=browserTable>
							<tr>
								<td><img class=unsupported src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img class=unsupported src=images/ie.png></td>
								<td><img class=unsupported src=images/opera.png></td>
								<td><img class=unsupported src=images/safari.png></td>
							</tr>
						</table>
					</section>
                </section>
                <section>
                    <h1>Iterators</h1>
                    <section>
                        <p>Better <code>for in</code> loops.</p>
                    </section>
                    <section>
                        <pre>
                            <code>
var getClassRoster = function() {
  return {
    iterator: function () {
      return {
        elements: roster.students,
        index: 0,
        next: function () {
          if (this.index >= this.elements.length) {
            throw StopIteration;
          }
          this.index += 1;
          return this.elements[this.index];
        }
      };
    },
    // ...
  };
};

for (var student of getClassRoster()) {
  recordFinalGrade(student);
}
                            </code>
                        </pre>
                    </section>
                    <section>
            			<table class=browserTable>
							<tr>
								<td><img class=unsupported src=images/chrome.png></td>
								<td><img class=partialsupport src=images/firefox.png></td>
								<td><img class=unsupported src=images/ie.png></td>
								<td><img class=unsupported src=images/opera.png></td>
								<td><img class=unsupported src=images/safari.png></td>
							</tr>
						</table>
					</section>
                </section>
                <section>
                    <h1>Array Comprehensions</h1>
                    <section>
                        <p>
                            Succintly create one array from another.
                        </p>
                    </section>
                    <section>
                        <p>map example</p>
                        <pre>
                            <code>
var arr = [1, 2, 3];

var times2Array = [x * 2 for (x of arr)];
                            </code>
                        </pre>
                    </section>
                    <section>
                        <p>filter example</p>
                        <pre>
                            <code>
var arr = [1, 2, 3, 4, 5, 6];

var evens = [x for (x of arr) if (x % 2 === 0)];
                            </code>
                        </pre>
                    </section>
                    <section>
                        <p>forEach example</p>
                        <pre>
                            <code>
var arr = [1, 2, 3];

[console.log(x) for (x of arr)];
                            </code>
                        </pre>
                    </section>
                    <section>
                		<table class=browserTable>
							<tr>
								<td><img class=unsupported src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img class=unsupported src=images/ie.png></td>
								<td><img class=unsupported src=images/opera.png></td>
								<td><img class=unsupported src=images/safari.png></td>
							</tr>
						</table>
					</section>
                </section>
                <section>
                    <h1>Maps &amp; Sets</h1>
                    <section>
                        <p>Easy key/value or key collections of <em>any</em> value type.</p>
                    </section>
                    <section>
                        <p>Set example</p>
                        <pre>
                            <code>
var playerGuesses = new Set();
playerGuesses.add(1);
playerGuesses.add("two");

playerGuesses.has(1); // true
playerGuesses.has(2); // false
                            </code>
                        </pre>
                    </section>
                    <section>
                        <p>Map example</p>
                        <pre>
                            <code>
var players = [{ name: "Mary" }, { name: "Bob" }];
var playerGuesses = new Map();
playerGuesses.add('heads', players[0]);
playerGuesses.add('tails', players[1]);

var flip = Math.random() > .5 ? 'heads' : 'tails';
var winner = playerGuesses.get(flip);
var winningName = winner.name;
// winningName is "Mary" or "Bob"
                            </code>
                        </pre>
                    </section>
                    <section>
                    	<table class=browserTable>
							<tr>
								<td><img class=unsupported src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img class=unsupported src=images/ie.png></td>
								<td><img class=unsupported src=images/opera.png></td>
								<td><img class=unsupported src=images/safari.png></td>
							</tr>
						</table>
					</section>
                </section>
                <section>
					<h1>Scope &amp; Value</h1>
				</section>
				<section>
					<h1>let</h1>
					<section>
						<p>Provides a way to create sub-scopes within a function.</p>
						<p>The <code>let</code> keyword can be used in three forms:</p>
						<ul>
							<li>block</li>
							<li>statement</li>
							<li>expression</li>
						</ul>
					</section>
					<section>
						<p>Block Example</p>
						<pre>
							<code>
var a = 5;

for (let ii = 0; ii &lt; 5; ii += 1) {
  let a = 3;
  console.log(ii + ': ' + a);
}

// Logs out:
//   0: 3
//   1: 3
//   2: 3
//   3: 3
//   4: 3
							</code>
						</pre>
					</section>
					<section>
						<p>Expression &amp; Statement Examples</p>
						<pre>
							<code>
var a = 5;
let (a = 3) console.log(a);  // Logs 3
console.log(a);              // Logs 5

var print = function (item) {
  console.log(item);
};

print(let (a = 4) a);        // Logs 4
							</code>
						</pre>
					</section>
					<section>
						<table class=browserTable>
							<tr>
								<td><img class=partialsupport src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img class=unsupported src=images/ie.png></td>
								<td><img class=unsupported src=images/opera.png></td>
								<td><img class=unsupported src=images/safari.png></td>
							</tr>
						</table>
					</section>
				</section>
                <section>
                    <h1>Parameter Changes</h1>
                    <ul>
                        <li>Default parameters</li>
                        <li>rest</li>
                        <li>spread</li>
                    </ul>
                </section>
                <section>
                    <h1>Default Parameters</h1>
                    <section>
                        <pre>
                            <code>
var print = function (item = "nothing") {
    console.log(item);
};
print(); // logs "nothing."
                            </code>
                        </pre>
                    </section>
                    <section>
    					<table class=browserTable>
							<tr>
								<td><img class=unsupported src=images/chrome.png></td>
								<td><img src=images/firefox.png></td>
								<td><img class=unsupported src=images/ie.png></td>
								<td><img class=unsupported src=images/opera.png></td>
								<td><img class=unsupported src=images/safari.png></td>
							</tr>
						</table>
					</section>
                </section>
                <section>
    				<h1>Syntax Changes</h1>
				</section>
				<section>
					<h1>Destructuring</h1>
					<section>
						<p>Breaks apart an array or object during assignment (or other value bindings.)</p>
					</section>
					<section>
						<p>Simple swap example</p>
						<pre>
							<code>
var a = 1;
var b = 3;

[a, b] = [b, a];

// b is 1 and a is 3.
							</code>
						</pre>
					</section>
					<section>
						<p>Break apart a function return value</p>
						<pre>
							<code>
var firstName, age;

var getPerson = function () {
  return {
    name: {
      first: 'John',
      last: 'Doe'
    },
    age: 42
  };
};

{ name: { first: firstName }, age: age } = getPerson();

// firstName is 'John', age is 42
							</code>
						</pre>
					</section>
					<section>
						<p>Break apart a function parameter</p>
						<pre>
							<code>
var person = {
  name: {
    first: 'John',
    last: 'Doe'
  },
  age: 42
};

var printFirstName = function ({ name: { first: firstName } }) {
  console.log(firstName);
};

printFirstName(person);  // Logs 'John'
							</code>
						</pre>
					</section>
					<section>
						<table class=browserTable>
							<tr>
								<td><img class=unsupported src=images/chrome.png></td>
								<td><img class=partialsupport src=images/firefox.png></td>
								<td><img class=unsupported src=images/ie.png></td>
								<td><img class=unsupported src=images/opera.png></td>
								<td><img class=unsupported src=images/safari.png></td>
							</tr>
						</table>
					</section>
				</section>
				<section>
    				<h1>Arrow Functions</h1>
                    <section>
                        <ul>
                            <li>Shortened function literal syntax, a la coffescript.</li>
                            <li>Lexical scoping of <code>this</code>.</li>
                        </ul>
                    </section>
                    <section>
                        <pre>
                            <code>
// times2 revisted
let times2 = x => x * 2;

// Lexical binding of this.
var SlideShow = {
  start: function () {
    window.setTimeout(() => this.next(), 1000);
  },
  // rest of object...
};
  
                            </code>
                        </pre>
                    </section>
                    <section>
    					<table class=browserTable>
							<tr>
								<td><img class=unsupported src=images/chrome.png></td>
								<td><img class=unsupported src=images/firefox.png></td>
								<td><img class=unsupported src=images/ie.png></td>
								<td><img class=unsupported src=images/opera.png></td>
								<td><img class=unsupported src=images/safari.png></td>
							</tr>
						</table>
					</section>
				</section>
                <section>
                    <h1>Traceur</h1>
                    <p>Google's "Javascript.next-to-Javascript-of-today compiler"</p>
                </section>
			</div>
		</div>
		<script src=js/reveal.min.js></script>
		<script>Reveal.initialize();</script>
		<script src=plugin/highlight/highlight.js></script>
		<script>hljs.initHighlightingOnLoad();</script>
	</body>
</html>